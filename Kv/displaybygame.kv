### Screen to display Stats by game. ###

#:import RVDisplayByGame Widgets.rv_displaybygame
#:import StatsByGameLabel Widgets.widgets

<DisplayByGame>:
    name: 'displaybygame'
    recycle_view: recycle_view
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1
        Rectangle:
            pos: self.pos
            size: self.size
    RoundedRectLabelBtn:
        text: 'Click me'
        font_name: 'MyriadPro'
        font_size: sp(24)
        text_size: self.size
        halign: 'center'
        valign: 'middle'
        size_hint: .7, None
        height: dp(80)
        pos_hint: {'center_x': .5, 'center_y': .92}
        color: 0, 0, 0, 0
        canvas.before:
            Color:
                rgba: 1, 0, 0, 0
            RoundedRectangle:
                segments: 70
                radius: dp(15), dp(15), dp(15), dp(15)
                pos: self.pos
                size: self.size
        on_press: root.call_teams_screen()
    BoxLayout:
        orientation: 'vertical'
        Image:
            size_hint: 1, .25
            source: 'Images/000.png'
        FloatLayout:
            canvas.before:
                Color:
                    rgba: 1, 1, 1, 1
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: dp(15), dp(15), 0, 0
                    source: 'Images/004.jpg'
            Label:
                text: '[i]' + root.player + '[/i]'
                font_name: 'MyriadPro'
                pos_hint: {'center_x': .5, 'center_y': .92}
                font_size: sp(45)
                size_hint: 1, None
                text_size: self.width, None
                height: self.texture_size[1]
                halign: 'center'
                valign: 'middle'
                markup: True
            Label:
                text: '[i]' + root.game_info + '[/i]'
                font_name: 'MyriadPro'
                pos_hint: {'center_x': .5, 'center_y': .85}
                font_size: sp(26)
                size_hint: 1, None
                text_size: self.width, None
                height: self.texture_size[1]
                halign: 'center'
                valign: 'middle'
                markup: True
            RVDisplayByGame:
                id: recycle_view
                canvas.before:
                    Color:
                        rgba: 1, 1, 1, .2
                    RoundedRectangle:
                        segments: 70
                        radius: [dp(20), dp(20), dp(20), dp(20)] # Half of RVSt.RecycleBoxLayout.default_size_y
                        size: self.size
                        pos: self.pos
                pos_hint: {'center_x': .5, 'center_y': .41}
                size_hint: .95, .78

<RVDisplayByGame>:
    viewclass: 'DisplayByGameTemplate'
    bar_color: 1, 1, 1, 0
    bar_margin: -dp(10)
    bar_inactive_color: 1, 1, 1, 0
    smooth_scroll_end: 10
    scroll_type: ['bars', 'content']
    RecycleBoxLayout:
        default_size: None, dp(40)
        default_size_hint: 1, None
        size_hint_y: None
        height: self.minimum_height
        orientation: 'vertical'

<StatsByGameLabel>:
    color: 1, 1, 1, 1
    font_name: 'MyriadPro'
    font_size: sp(18)

<DisplayByGameTemplate>:
    statistical_category: 'None'
    game_stat: 'None'
    StatsByGameLabel:
        text: root.statistical_category
    StatsByGameLabel:
        text: root.game_stat
        size_hint_x: .5