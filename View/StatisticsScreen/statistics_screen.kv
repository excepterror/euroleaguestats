### Screen to display options for Average and Total stats, as well as Stats by game. ###

#:import RVDisplayByGame Widgets.rv_statistics

<StatisticsScreenView>:
    name: "statistics screen"
    on_pre_enter: self.statistics_options()
    on_leave: self.restore_recycle_view()
    recycle_view_mod: recycle_view_mod.__self__
    float_layout: float_layout
    notification: notification
    FloatLayout:
        id: float_layout
        Image:
            canvas.before:
                Color:
                    rgba: 0, 0, 0, 1
                Rectangle:
                    pos: self.pos
                    size: self.size
            size_hint: 1, .25
            pos_hint: {"x": 0, "top": 1}
            source: "Assets/LogoWhite.png"
        RoundedWidget:
            r0: .53
            g0: .81
            b0: .92
            a0: .6
            r1: 95
            g1: .55
            b1: .45
            a1: 1
            pos_hint: {'x': 0, 'y':0}
            size_hint:  1, .75
        Label:
            text: '[i]' + root.player_name + '[/i]'
            font_name: 'MyriadPro'
            pos_hint: {'center_x': .5, 'center_y': .7}
            font_size: app.font_scale * sp(40)
            size_hint: 1, None
            text_size: self.width, None
            height: self.texture_size[1]
            halign: 'center'
            valign: 'middle'
            markup: True
        Label:
            text: '[i]' + root.text_1 + '[/i]'
            font_name: 'MyriadPro'
            pos_hint: {'center_x': .5, 'center_y': .65}
            font_size: app.font_scale * sp(24)
            size_hint: 1, None
            text_size: self.width, None
            height: self.texture_size[1]
            halign: 'center'
            valign: 'middle'
            markup: True
        Label:
            text: '[i]' + root.text_2 + '[/i]'
            font_name: 'MyriadPro'
            pos_hint: {'center_x': .5, 'center_y': .61}
            font_size: app.font_scale * sp(20)
            size_hint: 1, None
            text_size: self.width, None
            height: self.texture_size[1]
            halign: 'center'
            valign: 'middle'
            markup: True
        RoundedRectLabelBtn:
            text: 'Average & Total Stats'
            font_name: 'MyriadPro'
            font_size: app.font_scale * sp(17)
            text_size: self.size
            halign: 'center'
            valign: 'middle'
            size_hint: .98, None
            height: adaptive_height(scale=0.0537, max_height=dp(60)) # 0.0537 is equivalent to dp(50).
            pos_hint: {'center_x': .5, 'center_y': .54}
            color: 1, 1, 1, 1
            canvas.before:
                Color:
                    rgba: 1, 1, 1, .2
                RoundedRectangle:
                    segments: 70
                    radius: dp(15), dp(15), dp(15), dp(15)
                    pos: self.pos
                    size: self.size
            on_press: root.animate_on_push(self)
        RVDisplayByGame:
            id: recycle_view_mod
            pos_hint: {'center_x': .5, 'center_y': .17}
            size_hint: .98, .63
    NotificationWidget:
        id: notification

<RVDisplayByGame>:
    viewclass: 'SelectableLabel'
    bar_pos_y: 'right'
    bar_color: 1, 1, 1, 0
    bar_margin: -dp(8)
    bar_inactive_color: 1, 1, 1, 0
    smooth_scroll_end: 10
    SelectableRecycleBoxLayout:
        default_size: None, dp(50)
        default_size_hint: 1, None
        size_hint_y: None
        height: self.minimum_height
        orientation: 'vertical'
        spacing: dp(10)
        padding: dp(5)
        multiselect: False
        touch_multiselect: False

<SelectableLabel>:
    # Draw a background to indicate selection.
    text_size: self.width, None
    font_size:  app.font_scale * sp(16)
    font_name: 'MyriadPro'
    halign: 'center'
    valign: 'middle'
    color: (0, 0, 0, 1) if self.selected else (1, 1, 1, 1)
    canvas.before:
        Color:
            rgba: (1, 1, 1, .8) if self.selected else (1, 1, 1, .2)
        RoundedRectangle:
            segments: 70
            radius: [dp(15), dp(15), dp(15), dp(15)]
            pos: self.pos
            size: self.size